<launch>
  <arg name="gui"  default="false"/>
  <arg name="gazebo_paused" default="true"/>
  <arg name="world_name" default="$(find cpr_bringup)/worlds/empty.world"/>

  <!-- SET WORLD FRAME -->
  <node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="0 0 0 0 0 0 1 world odom 1" />

  <!-- BRINGUP ROBOT -->
  <include file="$(find cpr_bringup)/launch/cpr_world.launch">
    <arg name="paused" value="$(arg gazebo_paused)"/>
    <arg name="gui" value="$(arg gui)"/>
    <arg name="world_name" value="$(arg world_name)"/>
  </include>

  <!-- RVIZ -->
  <node name="rviz" pkg="rviz" type="rviz"
    args="-d $(find cpr_bringup)/launch/rviz/admittance_fake_wrench.rviz"/>

  <!-- FAKE WRENCH -->
  <node name="fake_wrench" pkg="cpr_bringup" type="fake_wrench.py"
    required="true" output="screen"/>

  <!-- SET INITIAL POSE AND START CONTROLLERS-->
  <node pkg="cpr_bringup" type="timed_roslaunch.sh"
        args="6 cpr_bringup init_pose_start_controllers.launch"
        name="timed_start_controllers" output="screen">
  </node>

</launch>

